from z3 import *
from z3opt import *


x = Real('x')
constraints = [x >= 0, x <= 1]
f = x * (1.0 - ((x * x) * ((1.0 / 6.0) - ((x * x) / 120.0))))
print f
print find_bounds(f, constraints, 0.01)
    
#l, u = maximize(f, [x >= 0, x <= 1], 0, 10, 0.0001)
#print l, u


#x1, x2, x3, x4, x5, x6 = Reals('x1 x2 x3 x4 x5 x6')
#l = 4
#u = 2.52 * 2.52
#cs = [x1 >= l, x1 <= u, x2 >= l, x2 <= u, x3 >= l, x3 <= u, x4 >= l, x4 <= u, x5 >= l, x5 <= u, x6 >= l, x6 <= u]

#delta4 = -x2 * x3 -x1 * x4 + x2 * x5 + x3 * x6 -x5 * x6 + x1 * (-x1 + x2 + x3 - x4 + x5 + x6)
#delta = x1 * x4 * (-x1 + x2 + x3 - x4 + x5 + x6) + x2 * x5 * (x1 - x2 + x3 + x4 - x5 + x6) + x3 * x6 * (x1 + x2 - x3 + x4 + x5 - x6) + (-x2) * x3 * x4 + (-x1) * x3 * x5 + (-x1) * x2 * x6 + (-x4) * x5 * x6
#l, u = maximize(-delta, cs, 0, 100, 1)

#[x2, x1] = Reals('x2 x1')
#constraints = [x2 > -20.000000, x1 > -5.000000, x2 < 5.000000, x1 < 5.000000]
#f = (x1 + (((((((((2.000000 * x1) * (((((3.000000 * x1) * x1) + (2.000000 * x2)) - x1) * (1.000000 / ((x1 * x1) + 1.000000)))) * ((((((3.000000 * x1) * x1) + (2.000000 * x2)) - x1) * (1.000000 / ((x1 * x1) + 1.000000))) - 3.000000)) + ((x1 * x1) * ((4.000000 * (((((3.000000 * x1) * x1) + (2.000000 * x2)) - x1) * (1.000000 / ((x1 * x1) + 1.000000)))) - 6.000000))) * ((x1 * x1) + 1.000000)) + (((3.000000 * x1) * x1) * (((((3.000000 * x1) * x1) + (2.000000 * x2)) - x1) * (1.000000 / ((x1 * x1) + 1.000000))))) + ((x1 * x1) * x1)) + x1) + (3.000000 * (((((3.000000 * x1) * x1) + (2.000000 * x2)) - x1) * (1.000000 / ((x1 * x1) + 1.000000))))))
#print f
#print find_bounds(f, constraints, 0.001)
#l, u = maximize(f, constraints, 0, 10000, 0.0001)